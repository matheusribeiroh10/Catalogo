<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>CatÃ¡logo Digital</title>
<style>
body {font-family: Arial, sans-serif; margin:0; background:#f7f7f7; text-align:center;}
header {background:#2b7bba; color:white; padding:10px; font-size:18px; font-weight:bold;
        position:sticky; top:0; z-index:10; display:flex; justify-content:space-between;
        align-items:center;}
#total {font-size:15px; font-weight:bold;}
#marcas-container {display:flex; flex-wrap:wrap; justify-content:center; gap:10px; margin:10px;}
.marca-btn {
    flex: 1 1 120px;
    min-width: 130px;
    max-width: 160px;
    padding:10px;
    border:none;
    border-radius:10px;
    font-size:14px;
    background:#2b7bba;
    color:white;
    cursor:pointer;
    word-wrap:break-word;
    white-space:normal;
}
.marca-btn.tudo {
    background:#25d366;
    font-weight:bold;
}
#produtos-container {
    display:grid;
    grid-template-columns:repeat(2,1fr);
    gap:12px;
    padding:12px;
    max-width:700px;
    margin:auto;
}
.produto {
    background:white;
    border-radius:12px;
    box-shadow:0 2px 5px rgba(0,0,0,0.1);
    padding:10px;
}
.produto img {width:100%; border-radius:10px;}
.qtd-container {display:flex; align-items:center; justify-content:center; margin-top:5px;}
.qtd-container button {
    width:28px; height:28px; border:none; border-radius:6px;
    background:#2b7bba; color:white; font-size:18px; font-weight:bold;
}
.qtd-container input {
    width:40px; text-align:center; margin:0 5px; border:1px solid #ccc; border-radius:6px;
    pointer-events:none;
}
button#enviar {
    background:#25d366; color:white; border:none;
    padding:8px 12px; font-size:14px; border-radius:8px; cursor:pointer;
}
button#voltar {
    background:#e74c3c; color:white; border:none;
    padding:8px 12px; font-size:14px; border-radius:8px; cursor:pointer;
}
.hidden {display:none;}
</style>
</head>
<body>

<header>
  <button id="voltar" onclick="mostrarMarcas()">ðŸ”™ Marcas</button>
  <div>CatÃ¡logo Digital<br><span id="total">Total: R$ 0,00</span></div>
  <button id="enviar" onclick="enviarWhatsApp()">ðŸ“¦ Enviar Pedido</button>
</header>

<!-- TELA 1: MARCAS -->
<div id="tela-marcas">
  <h3>Escolha uma Marca</h3>
  <div id="marcas-container">
    <button class="marca-btn tudo" onclick="mostrarProdutos('Tudo')">Tudo</button>
    <button class="marca-btn" onclick="mostrarProdutos('Bauducco')">Bauducco</button>
    <button class="marca-btn" onclick="mostrarProdutos('Danone')">Danone</button>
    <button class="marca-btn" onclick="mostrarProdutos('Divinitos')">Divinitos</button>
    <button class="marca-btn" onclick="mostrarProdutos('Elma Chips')">Elma Chips</button>
    <button class="marca-btn" onclick="mostrarProdutos('FRITOP')">FRITOP</button>
    <button class="marca-btn" onclick="mostrarProdutos('Frutap')">Frutap</button>
    <button class="marca-btn" onclick="mostrarProdutos('Kremoso')">Kremoso</button>
    <button class="marca-btn" onclick="mostrarProdutos('NestlÃ©')">NestlÃ©</button>
    <button class="marca-btn" onclick="mostrarProdutos('Oz Pipocas')">Oz Pipocas</button>
    <button class="marca-btn" onclick="mostrarProdutos('Rebeka Pudim')">Rebeka Pudim</button>
    <button class="marca-btn" onclick="mostrarProdutos('Rei da Massa')">Rei da Massa</button>
    <button class="marca-btn" onclick="mostrarProdutos('Sacolas')">Sacolas</button>
  </div>
</div>

<!-- TELA 2: PRODUTOS -->
<div id="tela-produtos" class="hidden">
  <h3 id="titulo-marca"></h3>
  <div id="produtos-container"></div>
</div>

<script>
// === PRODUTOS EXEMPLO (pode trocar pelos seus ou usar JSON depois) ===
const produtos = [
  {codigo:"143",descricao:"Danette Branco 360G",marca:"Danone",valor:74.40,imagem:"https://via.placeholder.com/120"},
  {codigo:"214",descricao:"Yopro Morango",marca:"Danone",valor:160.80,imagem:"https://via.placeholder.com/120"},
  {codigo:"5981",descricao:"Ruffles Cebola 32g",marca:"Elma Chips",valor:167.44,imagem:"https://via.placeholder.com/120"},
  {codigo:"8921",descricao:"PÃ£o Visc. Trad",marca:"Bauducco",valor:39.90,imagem:"https://via.placeholder.com/120"},
  {codigo:"625",descricao:"Salgadinho Cebola 40g",marca:"Divinitos",valor:8.90,imagem:"https://via.placeholder.com/120"}
];

let carrinho = {};

// === MOSTRAR PRODUTOS ===
function mostrarProdutos(marca) {
  document.getElementById("tela-marcas").classList.add("hidden");
  document.getElementById("tela-produtos").classList.remove("hidden");
  document.getElementById("titulo-marca").textContent =
    marca === "Tudo" ? "Todos os Produtos" : "Marca: " + marca;

  const container = document.getElementById("produtos-container");
  container.innerHTML = "";

  produtos
    .filter(p => marca === "Tudo" || p.marca === marca)
    .forEach(prod => {
      const div = document.createElement("div");
      div.className = "produto";
      div.innerHTML = `
        <img src="${prod.imagem}" alt="${prod.descricao}">
        <h4>${prod.descricao}</h4>
        <small>(${prod.codigo})</small>
        <p><b>R$ ${prod.valor.toFixed(2)}</b></p>
        <div class="qtd-container">
          <button onclick="alterarQtd('${prod.codigo}', -1)">-</button>
          <input id="qtd-${prod.codigo}" value="0">
          <button onclick="alterarQtd('${prod.codigo}', 1)">+</button>
        </div>
      `;
      container.appendChild(div);
    });
}

// === VOLTAR Ã€ TELA DE MARCAS ===
function mostrarMarcas() {
  document.getElementById("tela-produtos").classList.add("hidden");
  document.getElementById("tela-marcas").classList.remove("hidden");
}

// === ALTERAR QUANTIDADE ===
function alterarQtd(codigo, delta) {
  const input = document.getElementById(`qtd-${codigo}`);
  let qtd = parseInt(input.value) + delta;
  if (qtd < 0) qtd = 0;
  input.value = qtd;
  const prod = produtos.find(p => p.codigo === codigo);
  if (qtd > 0) carrinho[codigo] = {...prod, qtd};
  else delete carrinho[codigo];
  atualizarTotal();
}

// === CALCULAR TOTAL ===
function atualizarTotal() {
  let total = 0;
  for (let c in carrinho) total += carrinho[c].valor * carrinho[c].qtd;
  document.getElementById("total").innerText = "Total: R$ " + total.toFixed(2);
}

// === ENVIAR WHATSAPP ===
function enviarWhatsApp() {
  if (Object.keys(carrinho).length === 0) return alert("Nenhum item no pedido!");
  let msg = "ðŸ›’ *Pedido:*%0A";
  for (let c in carrinho) {
    const p = carrinho[c];
    msg += `â€¢ ${p.descricao} (${p.codigo}) - ${p.qtd} un.%0A`;
  }
  const total = Object.values(carrinho).reduce((a,b)=>a+b.valor*b.qtd,0);
  msg += `%0AðŸ’° *Total:* R$ ${total.toFixed(2)}`;
  const url = "https://wa.me/5519992394899?text=" + msg;
  window.open(url, "_blank");
}
</script>

</body>
</html>
