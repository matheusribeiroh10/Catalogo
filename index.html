<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cat√°logo Digital</title>
<style>
body {font-family: Arial, sans-serif; margin:0; background:#f7f7f7; text-align:center;}
header {
    background:#2b7bba; color:white; padding:10px; font-size:18px; font-weight:bold;
    position:sticky; top:0; z-index:10; display:flex; justify-content:space-between; align-items:center;
}
/* ======= CAMPO DE VERS√ÉO DESTACADO ======= */
#versao {
    background:#ffcc00; 
    color:#000; 
    font-weight:bold;
    padding:4px 8px; 
    border-radius:8px;
    font-size:13px;
    margin-right:5px;
    border:1px solid #333;
}
#total {font-size:15px; font-weight:bold;}
#marcas-container {display:flex; flex-wrap:wrap; justify-content:center; gap:10px; margin:10px;}
.marca-btn {
    flex: 1 1 120px;
    min-width: 130px;
    max-width: 160px;
    padding:10px;
    border:none;
    border-radius:10px;
    font-size:14px;
    background:#2b7bba;
    color:white;
    cursor:pointer;
    word-wrap:break-word;
    white-space:normal;
}
.marca-btn.tudo {background:#25d366; font-weight:bold;}
#telefone-container {
    margin:15px auto 5px auto;
    display:flex; justify-content:center; align-items:center;
    gap:8px; flex-wrap:wrap;
}
#telefone-container span {font-weight:bold; color:#333;}
#telefone-container button {
    border:none; background:#2b7bba; color:white;
    border-radius:8px; padding:6px 10px; cursor:pointer;
}
.hidden {display:none;}

/* ===== POPUP TELEFONE ===== */
#popup {
    position:fixed; top:0; left:0; width:100%; height:100%;
    background:rgba(0,0,0,0.6); display:flex; justify-content:center; align-items:center;
    z-index:100;
}
#popup-content {
    background:white; padding:20px; border-radius:10px; max-width:300px;
    text-align:center;
}
#popup input {
    width:90%; padding:6px; margin-top:8px;
    border:1px solid #ccc; border-radius:6px; text-align:center;
}
#popup button {
    margin-top:10px; background:#2b7bba; color:white;
    border:none; border-radius:8px; padding:8px 12px; cursor:pointer;
}
</style>
</head>
<body>

<header id="cabecalho">
  <!-- ATUALIZAR VERS√ÉO AQUI -->
  <span id="versao">v1.6</span>
  <button id="voltar" onclick="mostrarMarcas()">üîô Marcas</button>
  <div>Cat√°logo Digital<br><span id="total">Total: R$ 0,00</span></div>
  <button id="btnCarrinho" onclick="mostrarCarrinho()">üõí Carrinho</button>
</header>

<!-- TELA 1: MARCAS -->
<div id="tela-marcas">

  <!-- ‚úÖ Contato agora acima do texto -->
  <div id="telefone-container"></div>

  <h3>Escolha uma Marca</h3>
  <div id="marcas-container">
    <button class="marca-btn tudo" onclick="mostrarProdutos('Tudo')">Tudo</button>
    <button class="marca-btn" onclick="mostrarProdutos('Bauducco')">Bauducco</button>
    <button class="marca-btn" onclick="mostrarProdutos('Danone')">Danone</button>
    <button class="marca-btn" onclick="mostrarProdutos('Divinitos')">Divinitos</button>
    <button class="marca-btn" onclick="mostrarProdutos('Elma Chips')">Elma Chips</button>
    <button class="marca-btn" onclick="mostrarProdutos('FRITOP')">FRITOP</button>
    <button class="marca-btn" onclick="mostrarProdutos('Frutap')">Frutap</button>
    <button class="marca-btn" onclick="mostrarProdutos('Kremoso')">Kremoso</button>
    <button class="marca-btn" onclick="mostrarProdutos('Nestl√©')">Nestl√©</button>
    <button class="marca-btn" onclick="mostrarProdutos('Oz')">Oz Pipocas</button>
    <button class="marca-btn" onclick="mostrarProdutos('Rebeka')">Rebeka Pudim</button>
    <button class="marca-btn" onclick="mostrarProdutos('Rei da Massa')">Rei da Massa</button>
    <button class="marca-btn" onclick="mostrarProdutos('Sacola')">Sacolas</button>
  </div>
</div>

<!-- POPUP -->
<div id="popup" class="hidden">
  <div id="popup-content">
    <h4>Informe seu n√∫mero de contato</h4>
    <input id="telefone-input" placeholder="(DDD) 99999-9999" maxlength="15">
    <button onclick="salvarTelefonePopup()">Salvar contato</button>
  </div>
</div>

<script>
let telefone = localStorage.getItem("telefone");

// === POPUP TELEFONE ===
function abrirPopup() {
  const popup = document.getElementById("popup");
  popup.style.display = "flex";
}
function fecharPopup() {
  const popup = document.getElementById("popup");
  popup.style.display = "none";
}
function salvarTelefonePopup() {
  const input = document.getElementById("telefone-input");
  const valor = input.value.trim();
  if (valor.length < 14) {
    alert("N√∫mero inv√°lido! Use o formato (19) 99999-9999");
    return;
  }
  telefone = valor;
  localStorage.setItem("telefone", telefone);
  fecharPopup(); // ‚úÖ fecha o popup imediatamente
  renderTelefone();
}

// === M√°scara ===
document.addEventListener("input", e=>{
  if(e.target.id==="telefone-input"){
    let v = e.target.value.replace(/\D/g,"");
    if(v.length>11) v=v.slice(0,11);
    if(v.length>6) e.target.value=`(${v.slice(0,2)}) ${v.slice(2,7)}-${v.slice(7)}`;
    else if(v.length>2) e.target.value=`(${v.slice(0,2)}) ${v.slice(2)}`;
    else e.target.value=v;
  }
});

// === TELEFONE CONTAINER ===
function renderTelefone(){
  const container=document.getElementById("telefone-container");
  container.innerHTML=telefone
    ? `<span>${telefone}</span><button onclick="editarTelefone()">‚úèÔ∏è Editar</button>`
    : `<span style="color:#666;">Nenhum contato cadastrado</span>`;
}
function editarTelefone(){
  telefone=null;
  localStorage.removeItem("telefone");
  abrirPopup();
}

// === INICIALIZA√á√ÉO ===
if(!telefone) abrirPopup();
renderTelefone();
</script>

</body>
</html>
